{% extends "base.html" %}

{% block content %}
<div class="w-full min-h-screen bg-gray-50 dark:bg-gray-900 midnight:bg-black py-12">
    <div class="w-full px-4 sm:px-6 lg:px-8">
        <div class="w-full max-w-none">
            <div class="max-w-4xl mx-auto">
                <div class="text-center mb-8">
                    <h1 class="text-3xl font-bold text-gray-900 dark:text-gray-100 midnight:text-white mb-2">Manual DNS Setup for {{ domain }}</h1>
                    <p class="text-gray-600 dark:text-gray-300 midnight:text-gray-300">Add these DNS records to your DNS provider</p>
                </div>
                
                <div class="bg-white dark:bg-gray-800 midnight:bg-gray-900 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 midnight:border-gray-700 overflow-hidden mb-8">
                    <div class="px-6 py-4 bg-gray-50 dark:bg-gray-700 midnight:bg-black border-b border-gray-200 dark:border-gray-600 midnight:border-gray-700">
                        <h2 class="text-lg font-semibold text-gray-900 dark:text-gray-100 midnight:text-white">Required DNS Records</h2>
                    </div>
                    <div class="overflow-x-auto">
                        <table class="w-full">
                            <thead class="bg-gray-50 dark:bg-gray-700 midnight:bg-black">
                                <tr>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 midnight:text-gray-400 uppercase tracking-wider">Type</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 midnight:text-gray-400 uppercase tracking-wider">Name</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 midnight:text-gray-400 uppercase tracking-wider">Value</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 midnight:text-gray-400 uppercase tracking-wider">Description</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 midnight:text-gray-400 uppercase tracking-wider">Action</th>
                                </tr>
                            </thead>
                            <tbody class="bg-white dark:bg-gray-800 midnight:bg-gray-900 divide-y divide-gray-200 dark:divide-gray-700 midnight:divide-gray-700">
                                {% for record in dns_records %}
                                <tr class="hover:bg-gray-50 dark:hover:bg-gray-700 midnight:hover:bg-gray-800">
                                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-gray-100 midnight:text-white">{{ record.type }}</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100 midnight:text-white font-mono">{{ record.name }}</td>
                                    <td class="px-6 py-4 text-sm text-gray-900 dark:text-gray-100 midnight:text-white font-mono max-w-xs truncate" title="{{ record.value }}">{{ record.value }}</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-400 midnight:text-gray-400">{{ record.description }}</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm">
                                        <button onclick="copyToClipboard('{{ record.value }}')" class="bg-blue-600 text-white px-3 py-1 rounded text-xs hover:bg-blue-700 transition-colors">
                                            <i class="fas fa-copy mr-1"></i>Copy
                                        </button>
                                    </td>
                                </tr>
                                {% endfor %}
                            </tbody>
                        </table>
                    </div>
                </div>
                
                <div class="bg-blue-50 dark:bg-blue-900/20 midnight:bg-blue-900/20 border border-blue-200 dark:border-blue-800 midnight:border-blue-800 rounded-lg p-6">
                    <div class="flex items-start space-x-3">
                        <i class="fas fa-lightbulb text-blue-600 dark:text-blue-400 midnight:text-blue-300 mt-1"></i>
                        <div>
                            <h3 class="text-sm font-medium text-blue-900 dark:text-blue-100 midnight:text-blue-100 mb-2">Setup Instructions</h3>
                            <ol class="text-sm text-blue-800 dark:text-blue-200 midnight:text-blue-200 space-y-1 list-decimal list-inside">
                                <li>Log in to your DNS provider's control panel</li>
                                <li>Add each DNS record from the table above</li>
                                <li>Wait for DNS propagation (can take up to 24 hours)</li>
                                <li>Return to Mailgun and verify domain ownership</li>
                            </ol>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
function copyToClipboard(text) {
    navigator.clipboard.writeText(text).then(function() {
        // Show temporary success message
        const button = event.target.closest('button');
        const originalText = button.innerHTML;
        button.innerHTML = '<i class="fas fa-check mr-1"></i>Copied!';
        button.classList.remove('bg-blue-600', 'hover:bg-blue-700');
        button.classList.add('bg-green-600', 'hover:bg-green-700');
        
        setTimeout(() => {
            button.innerHTML = originalText;
            button.classList.remove('bg-green-600', 'hover:bg-green-700');
            button.classList.add('bg-blue-600', 'hover:bg-blue-700');
        }, 2000);
    });
}
</script>
{% endblock %}
